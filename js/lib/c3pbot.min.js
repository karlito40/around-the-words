window.Role={TRANSLATOR:1,SUPERVISOR:2,ADMIN:3};(function(C3PBot){C3PBot.localeConfig={id:"locale",label:"Locales",minAccessLevel:Role.ADMIN,fields:[{name:"id",label:"Id"},{name:"name",label:"Nom"},{name:"unityIdentifier",label:"Unity ID",formatter:"falseOnZero"},{name:"order",label:"Ordre"},{name:"activated",label:"Activé",formatter:"trueFalse"},{name:"identifier",label:"Code"},{name:"wordCount",label:"Mots"},{name:"progress",label:"Progression",formatter:"progress"},"created"],formTabs:[{name:"properties",label:"Propriétés",icon:"page_white_edit",fields:[{name:"locale",label:"Langue",type:"select",table:"translator.locale",hasProject:false,dependance:"!created"},{name:"order",label:"Ordre"},{name:"activated",label:"Activer",type:"checkbox"}]}],customFormButtonList:[{label:"Recalculer nombre de mots",processId:"compute-wordcount"}]}})(window.C3PBot=window.C3PBot||{});(function(C3PBot){C3PBot.translationConfig={id:"translation",label:"Traductions",allowCreation:false,fields:[{name:"id",label:"Id"},{name:"updated",label:"A jour",formatter:"trueFalse"},{name:"sourceTypeName",label:"Source"},{name:"msgid",label:"msgid",formatter:"summarize"},{name:"referencePreview",label:"Référence",formatter:"summarizeFalseOnZero"},{name:"translationPreview",label:"Traduction",formatter:"summarizeFalseOnZero"},{name:"wordCount",label:"Mots"},{name:"sound",label:"Son",formatter:"soundPreview"},{name:"lastUpdateUser",label:"Dernier contributeur"},{name:"lastUpdateTime",label:"Dernière modification",formatter:"date"},"name"],filters:[{label:"Référence",field:"srcLocale",table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"},{label:"Traduction",field:"dstLocale",table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"},{label:"Statut",customFilter:true,hasParents:false,field:"updated",customFields:[{text:"A jour",value:"updated=1"},{text:"Pas à jour",value:"updated=0"}]},{label:"Vides",field:"isEmpty",booleanFilter:true}],customButtonList:[{label:"Exporter CSV",processId:"exportCSV",external:true,customFields:[{name:"localeList",label:"Locales",type:"select",multiple:true,table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"}]},{label:"Importer CSV",uploadId:"importCSV",external:true,customFields:[{name:"localeList",label:"Locale",type:"select",table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"}]},{label:"Importer sons",uploadId:"import-sound",customFields:[{name:"locale",label:"Locale",type:"select",table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"}]},{label:"Importer",processId:"import",modal:true},{label:"Exporter",processId:"export",modal:true}],customFormButtonList:[{label:"Importer son",uploadId:"import-sound",customFields:[{name:"locale",label:"Locale",type:"select",table:"translator.locale",projectLinkTable:"translator.project_locale",projectLinkField:"locale",projectField:"project",projectType:"C3PBot"}]}],formTabs:[{name:"properties",label:"Propriétés",icon:"page_white_edit",fields:["locale",{name:"reference",label:"Référence",type:"textarea",disabled:true},{name:"translation",label:"Traduction",type:"textarea"},{name:"sound",label:"Son",type:"audio"}]},{name:"source",label:"Infos source",fields:[{name:"msgid",label:"MsgId",type:"info"},{name:"sourceTypeName",label:"Type",type:"info"},{name:"sourceName",label:"Nom",type:"info"},{name:"sourceIndex",label:"Index",type:"info"}]}]}})(window.C3PBot=window.C3PBot||{});var Gettext={localeList:[],data:{},gettext:function(msgid,defaultMessage){if(typeof this.data[this.locale][msgid]!="undefined"){return this.data[this.locale][msgid]}else if(msgid.match(/_lc-[0-9]+$/)){return""}else if(defaultMessage){return"*"+defaultMessage+"*"}else{return"*"+msgid+"*"}},setLocale:function(loc){if(typeof this.data[loc]=="undefined"){console.log("[ERROR] Missing locale "+loc)}else{this.locale=loc}},loadData:function(locale,name,data){if(this.localeList.length==0){this.locale=locale}this.localeList.push({id:locale,name:name});this.data[locale]=data}};function setLocale(locale){Gettext.setLocale(locale)}function _2(s,defaultMessage){if(Gettext.localeList.length==0){return defaultMessage?defaultMessage:s}else{return Gettext.gettext(s,defaultMessage)}}function getDBText(table,field,id){if(field.substr(-3)!="_lc"){field+="_lc"}return _2(table+"-"+field+"-"+id)}